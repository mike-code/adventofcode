Ξ = -> λ { (1..λ.size).map{ |i| λ[..i-1].inject(:+) - (i+1)*i/2 }.tally[0] }

# Test cases
#
p Ξ.([3,5,8,1,6,9,2,7,4]) == 1
p Ξ.([7,2,4,1,3,5,6,9,8]) == 2
p Ξ.([2,1,3,5,4]) == 3
p Ξ.([2,3,4,1,5]) == 2
p Ξ.([1,3,4,2,5]) == 3
p Ξ.([1]) == 1
p Ξ.([1,2,3,4]) == 4
p Ξ.([4,3,2,1]) == 1
p Ξ.([4,3,1,2]) == 1
p Ξ.([3,2,1,4]) == 2
p Ξ.([2,1,3,4,5,7,6]) == 5
p Ξ.([1,3,2,5,4,6]) == 4
